# 系统维护

* [1. 日期时间](#1-日期时间) 
* [2. 磁盘管理](#2-磁盘管理)
* [3. 进程管理](#3-进程管理)
* [4. 运行级别](#4-运行级别)

## 1. 日期时间

命令|作用
:-|:-
`date [-options] [-format]`|查看系统时间
`cal [-options]`| 查看系统日历 `-y`显示当年日历

```sh
$ date      #查看系统时间
$ cal -y    # 查看当年日历
```

## 2. 磁盘管理

命令|作用
:-|:-
`df [-options] [FILE]`|显示磁盘容量、已用空间、剩余空间、使用例等
`du [-options] [FILE]`|显示目录下文件大小。

* `-h`以人性化方式显示文件尺寸
* `df(disk free)`命令结果中挂载点为为根目录('`/`')的记录表示系统磁盘使用情况
* `du(disk usage)`命令不指定`FILE`，默认为当前目录。结果中最后一条记录`.`表示当前目录整体尺寸

```sh
$ df -h         # 显示磁盘使用情况
$ du -h Desktop # 显示桌面目录内容尺寸
```

## 3. 进程管理

命令|作用
:-|:-
`ps [options]`|查看进程信息。
`top [-options]`|动态显示进程有序详细信息。类似Windows进程排序列表
`kill [-options] pid`|终止进程

### 1) ps命令
* **ps命令options前不使用 "`-`"**
* `ps`默认只显示 **当前用户 终端启动的进程** 

options|含义
:-|:-
`u` | 进程详细信息
`a` | **所有用户 终端启动的进程**
`x` | 所有进程 **包含非终端启动的进程**

```sh
# 显示当前用户终端启动进程信息
$ ps

# 显示所有用户终端启动进程详细信息
$ ps au

# 显示所有用户所有进程详情
# ps aux
```

### 2) kill命令
* `-9`表示强制终止进程
* 出于安全考虑，我们一般只管理当前用户开启的进程。如果中止root用户的进程可能导致系统崩溃
* 一般只使用终端命令方式管理Linux，故而一般只关注终端启动的进程

```sh
# 强制种植PID为1278的进程
$ kill -9 1278
```

## 4. 运行级别
Linux运行级别类似于windows中的安全模式等不同的启动模式。

**常用目录速查表:**

| 运行级别 | 含义 |
|:-|:-|
|0|关机|
|1|单用户|
|2|没有网络服务的多用户状态|
|3|有网络服务的多用户状态|
|4|系统未使用保留给用户|
|5|图形界面|
|6|系统重启|

* 最常用的运行级别是3和5，可以通过修改/etc/inittab文件来修改系统运行级别。
* `init [运行级别]`	马上进入指定运行级别，单次有效
* 运行级别设置不当可以在启动时修改编辑启动项进入单用户模式，修改运行级别然后重启即可。